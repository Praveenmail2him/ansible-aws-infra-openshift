# Architectural Decisions

| ID | Description | Driver / background | Options Considered | Option Decided | Rationale | Implications | Related |
| ---- | ------------------------------------------ | ----------------------------------- | ---------------------------------------- | --------------------------------------- | -------------------------------------- | --------------------------- | --------- |
| AD-01 | What automation tool should be used to automate the build? | Needs to be ansible (constraint). Not all commands available as modules. | 1. Ansible AWS modules, 2. Ansible with AWS CLI, 3. Combination of both  | 3. Combination | Allows best of both worlds | nil | |
| AD-02 | Should ROSA be installed as standard (public & private) or PrivateLink architecture? |  PrivateLink only suppported on existing VPCs. PrivateLink does not allow internet access from VPC hosting ROSA cluster. | 1. Use default, 2. Use PrivateLink, 3. Use standalone OCP | 1. Use Default | Architecture requirement is for internet access in the same VPC as ROSA to deployed workloads | Need to augment ROSA created VPCs once cluster is created | |
| AD-03 | VPN Gateway or Transit Gateway for customer data center connectivity? | A VPN gateway allows IPSec onnectivity to a single VPC. Limited control by VPN Gateway. Transit Gateway hosted in AWS global private network. | 1. VPN Gateway, 2. Transit Gateway | 2. Transit Gateway | Provides better control over traffic and allows routing between multiple VPCs which are required for this architecture. Allows use of corporate DNS for name resolution through traffic routing. | Higher cost for transit gateway ||
| AD-04 | What type of VPN Server solution should be used for remote employess? | AWS provide a VPN Endpoint service as one option but it has limitations. There does not appear to be any way of using the AWS VPN Endpoints with a load balancer front end. | 1. Use AWS VPN Endpoints, 2. Use a custom solution | 2. Use a customer solution | Custom solution allows for load balancing ont he front end. | EC2 instances and additional VPN server software will be required | AD-05 |
| AD-05 | What type of VPN server software should be utilized? | A custom solution is required (see AD-04) | 1. | | | |